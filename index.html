<!DOCTYPE html>
<html lang="en">
  <head>
    <title>XP.css example</title>
    <meta charset="UTF-8" />

    <!-- Windows XP Theme (include only one theme at a time) -->
    <link rel="stylesheet" href="https://unpkg.com/xp.css" />

    <!-- Custom styling for the background and taskbar -->
    <style>
      body {
        background-color: #D2B48C; /* Pastel brown color */
        margin: 0;
        padding: 0;
        height: 100vh;
      }

      /* Taskbar at the bottom */
      .taskbar {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 40px;
        background-color: #c0c0c0;
        display: flex;
        align-items: center;
        padding: 5px;
        box-shadow: 0px -1px 5px rgba(0, 0, 0, 0.2);
      }

      /* Start button */
      .start-button {
        background-color: #008000;
        color: white;
        padding: 5px 10px;
        border: 1px solid #000;
        border-radius: 5px;
        font-family: Arial, sans-serif;
        font-size: 14px;
        display: flex;
        align-items: center;
        cursor: pointer;
      }

      /* Start menu */
      .start-menu {
        position: fixed;
        bottom: 40px;
        left: 5px;
        width: 200px;
        background-color: #c0c0c0;
        border: 1px solid black;
        padding: 10px;
        display: none; /* Hidden by default */
      }

      .start-menu-item {
        padding: 5px 0;
        cursor: pointer;
        font-family: Arial, sans-serif;
      }

      .start-menu-item:hover {
        background-color: #b0b0b0;
      }

      /* Fake Windows XP logo for the Start button */
      .start-logo {
        margin-right: 8px;
        width: 16px;
        height: 16px;
        background-color: white;
        border: 1px solid #000;
      }
    </style>
  </head>

  <body>
    <!-- Draggable Window -->
    <div class="window" id="draggable-window" style="position: absolute; top: 50px; left: 50px;">
      <div class="title-bar" id="title-bar">
        <div class="title-bar-text">
          Page Under Maintenance
        </div>
        <div class="title-bar-controls">
          <button aria-label="Minimize"></button>
          <button aria-label="Maximize"></button>
          <button aria-label="Close"></button>
        </div>
      </div>
      <div class="window-body">
        <p>Come check it out soon!!</p>
      </div>
    </div>

    <!-- Taskbar -->
    <div class="taskbar">
      <div class="start-button" id="start-button">
        <div class="start-logo"></div> Start
      </div>
    </div>

    <!-- Start Menu -->
    <div class="start-menu" id="start-menu">
      <div class="start-menu-item">Programs</div>
      <div class="start-menu-item">Documents</div>
      <div class="start-menu-item">Settings</div>
      <div class="start-menu-item">Shut Down</div>
    </div>

    <!-- JavaScript for Dragging Functionality and Start Menu -->
    <script>
      // Draggable window logic
      let isDragging = false;
      let offsetX = 0, offsetY = 0;

      const dragElement = document.getElementById("draggable-window");
      const dragHandle = document.getElementById("title-bar");

      dragHandle.onmousedown = function(e) {
        isDragging = true;
        offsetX = e.clientX - dragElement.getBoundingClientRect().left;
        offsetY = e.clientY - dragElement.getBoundingClientRect().top;
        document.onmousemove = onMouseMove;
        document.onmouseup = stopDragging;
      };

      function onMouseMove(e) {
        if (isDragging) {
          e.preventDefault();
          dragElement.style.left = `${e.clientX - offsetX}px`;
          dragElement.style.top = `${e.clientY - offsetY}px`;
        }
      }

      function stopDragging() {
        isDragging = false;
        document.onmousemove = null;
        document.onmouseup = null;
      }

      // Start button and Start menu logic
      const startButton = document.getElementById("start-button");
      const startMenu = document.getElementById("start-menu");

      startButton.onclick = function() {
        // Toggle the visibility of the Start menu
        if (startMenu.style.display === "none" || startMenu.style.display === "") {
          startMenu.style.display = "block";
        } else {
          startMenu.style.display = "none";
        }
      };

      // Close the Start menu when clicking outside of it
      document.onclick = function(event) {
        if (!startButton.contains(event.target) && !startMenu.contains(event.target)) {
          startMenu.style.display = "none";
        }
      };
    </script>
  </body>
</html>
