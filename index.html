<!DOCTYPE html>
<html lang="en">
  <head>
    <title>XP.css example</title>
    <meta charset="UTF-8" />

    <!-- Windows XP Theme (include only one theme at a time) -->
    <link rel="stylesheet" href="https://unpkg.com/xp.css" />

    <!-- Custom styling for the background -->
    <style>
      body {
        background-color: #D2B48C; /* Pastel brown color */
      }

      /* Ensure the window doesn't go out of bounds */
      .window {
        position: absolute;
        top: 50px; /* Initial position */
        left: 50px;
        width: 250px;
        cursor: default;
      }

      /* Change cursor to "move" when hovering over the title bar */
      .title-bar {
        cursor: move;
      }
    </style>
  </head>

  <body>
    <div class="window" id="draggable-window">
      <div class="title-bar" id="title-bar">
        <div class="title-bar-text">
          Under Construction
        </div>
        <div class="title-bar-controls">
          <button aria-label="Minimize"></button>
          <button aria-label="Maximize"></button>
          <button aria-label="Close"></button>
        </div>
      </div>
      <div class="window-body">
        <p>Come check it out soon!!</p>
      </div>
    </div>

    <!-- JavaScript for Dragging Functionality -->
    <script>
      // Dragging logic
      let isDragging = false;
      let offsetX = 0, offsetY = 0;

      const dragElement = document.getElementById("draggable-window");
      const dragHandle = document.getElementById("title-bar");

      dragHandle.onmousedown = function(e) {
        isDragging = true;
        // Get the current mouse position
        offsetX = e.clientX - dragElement.getBoundingClientRect().left;
        offsetY = e.clientY - dragElement.getBoundingClientRect().top;
        document.onmousemove = onMouseMove;
        document.onmouseup = stopDragging;
      };

      function onMouseMove(e) {
        if (isDragging) {
          // Prevent text selection while dragging
          e.preventDefault();
          // Calculate the new position for the window
          dragElement.style.left = `${e.clientX - offsetX}px`;
          dragElement.style.top = `${e.clientY - offsetY}px`;
        }
      }

      function stopDragging() {
        isDragging = false;
        document.onmousemove = null;
        document.onmouseup = null;
      }
    </script>
  </body>
</html>
